!function(i){"use strict";if(!i.version||i.version.major<2)throw new Error("This version of OpenSeadragonImagefilters requires OpenSeadragon version 2.0.0+");i.World.prototype.arrange=function(t){return this.justifiedCollectionInstance&&!t||(t=t||{},t.viewer=this,this.justifiedCollectionInstance=new i.justifiedCollection(t)),this.justifiedCollectionInstance},i.justifiedCollection=function(t){i.extend(!0,this,{columns:t.columns||8,tileMargin:t.tileMargin||.1,showLastRow:t.showLastRow||!0},t);for(var s=new i.Row(this),e=0;e<this.viewer._items.length;e++){var h=this.viewer._items[e];s.addTileSource(h)}this.showLastRow===!0&&s.draw()},i.Row=function(t){i.extend(!0,this,t),this.ready=!1,this.images=[],this.height=1,this.resizePercentage=1,this.totalWidth=0,this.firstRow=!0,this.rowWidth=0,this.line=0,this.called=0,this.draw=function(){var i=0;this.images.map(function(t){t.setHeight(this.height,!0),t.setPosition({x:i,y:this.line});var s=t.getBounds();i=i+s.width+this.tileMargin*this.height},this),this.ready=!1,this.line+=this.height+this.tileMargin,this.images=[],this.rowWidth=0},this.addTileSource=function(i){if(this.called++,this.isReady())throw"Can't add tilesource to ready row!";i.setHeight(1,!0);var t=i.getBounds();if(i.ratio=Math.round(t.width/t.height*100)/100,i.width=t.width,this.images.push(i),this.rowWidth=this.rowWidth+i.width+this.tileMargin,this.firstRow===!0&&this.images.length===this.columns)return this.totalWidth=this.rowWidth,this.firstRow=!1,this.ready=!0,void this.draw();if(this.firstRow===!1&&this.rowWidth>=this.totalWidth){var s=this.totalWidth/this.rowWidth;this.height=s,this.ready=!0,this.draw()}},this.isReady=function(){return this.ready}}}(OpenSeadragon);
//# sourceMappingURL=openseadragon-justified-collection.min.js.map
